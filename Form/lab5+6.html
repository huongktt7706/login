<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng Kí Thành Viên</title>
</head>
<body>
<div>
    <form action="" onsubmit=" return DangKi()">
        <h2>Đăng Kí Thành Viên</h2>
        <table>
            <tr>
                <td>Name</td>
                <td><input type="text"></td>
                <td><span id="err_name"></span></td>
            </tr>
            <tr>
                <td>Email</td>
                <td><input type="text"></td>
                <td><span id="err_email"></span></td>
            </tr>
            <tr>
                <td>Password</td>
                <td><input type="text"></td>
                <td><span id="err_pw"></span></td>
            </tr>
            <tr>
                <td>ConfirmPassword</td>
                <td><input type="text"></td>
                <td><span id="err_confirmPw"></span></td>
            </tr>
            <tr>
                <td>Birth</td>
                <td><input type="text"></td>
                <td><span id="err_birth"></span></td>
            </tr>
            <tr>
                <td>General</td>
                <td><input type="text" id="general"></td>
                <td><span id="err_general"></span></td>
            </tr>
            <tr>
                <td>Terms</td>
                <td><input type="checkbox" id="terms"></td>
                <td><span id="err_terms"></span></td>
            </tr>
        </table>
        <button>Submit</button>


    </form>
</div>
<script>
    function DangKi(){
        let arr=document.getElementsByTagName('input');
        let Name=arr[0].value;
        let Email=arr[0].value;
        let Password=arr[0].value;
        let ConfirmPassword=arr[0].value;
        let Birth=arr[0].value;
        let General=arr[0].value;
        let Terms=arr[0].checked;
        document.getElementById('err_name').innerHTML='';
        document.getElementById('err_email').innerHTML='';
        document.getElementById('err_pw').innerHTML=''; 
        document.getElementById('err_confirmPw').innerHTML='';
        document.getElementById('err_birth').innerHTML='';
        document.getElementById('err_general').innerHTML='';
        document.getElementById('err_terms').innerHTML='';
        if(Name===''||Email===''||Password===''||ConfirmPassword===''||Birth===''||General===''||Terms==='' ){
            if(!Name){
                err_name.innerHTML='required';
                return false;
            }
            if(!Email){
                err_email.innerHTML='required';
                return false;

            }
            if(!Password){
                err_pw.innerHTML='required';
                return false;

            }
            if(!ConfirmPassword){
                err_name.innerHTML='required';
                return false;

            }
            if(!Birth){
                err_birth.innerHTML='required';
                return false;

            }
            if(!General){
                err_general.innerHTML='required';
                return false;

            }
            if(!Terms){
                err_terms.innerHTML='required'
                return false;

            }

        }
    let NameRegex = /^[a-zA-ZÀ-ỹ\s]{3,}$/;
    if (!NameRegex.test(Name)) {
        document.getElementById("err_name").innerHTML = "Tên phải ≥ 3 ký tự, không chứa ký tự đặc biệt";
        return false;
    }

    
    let emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+(\.[a-zA-Z]{2,})+$/;
    if (!emailRegex.test(email)) {
        document.getElementById("err_email").innerHTML = "Email không đúng định dạng";
        return false;
    }

   
    if (isNaN(birth) || Number(birth) < 18) {
        document.getElementById("err_birth").innerHTML = "chua du dieu kien";
        return false;
      }
      let passRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$/;
      if (!passRegex.test(password)) {
        document.getElementById("err_pw").innerHTML = "Sai dinh dang,Phai co 1 chu hoa,1 chu thuong,1 ki tu dac biet";
        return false;
      }
      if (confirmPw !== password) {
        document.getElementById("err_confirmPw").innerHTML = "Nhap sai";
        return false;
      }

      alert('chúc mừng bạn đã đăng ký thành công');
            return true;
    }
</script>

    
</body>
</html>